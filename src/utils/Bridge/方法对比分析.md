# Bridge 桥接方法对比分析表

## 方法覆盖情况

| 方法名 | Browser | WeChat | Alipay | DingTalk | Lark | Lyrixi | 说明 |
|--------|---------|--------|--------|----------|------|--------|------|
| **基础方法** |
| `platform` | ✅ | ❌ | ❌ | ❌ | ❌ | ✅ | 平台标识 |
| `load` | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | 加载平台 SDK（所有平台都有） |
| `back` | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | 返回上一页（所有平台都有） |
| `closeWindow` | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | 关闭窗口（所有平台都有） |
| `onHistoryBack` | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | 监听物理返回（所有平台都有） |
| **导航相关** |
| `setTitle` | ✅ | ❌ | ❌ | ✅ | ❌ | ❌ | 设置标题 |
| `openWindow` | ✅ | ❌ | ❌ | ❌ | ❌ | ✅ | 打开新窗口 |
| `goHome` | ✅ | ❌ | ❌ | ❌ | ❌ | ❌ | 返回首页（仅 Browser） |
| `tel` | ✅ | ❌ | ❌ | ❌ | ❌ | ❌ | 拨打电话（仅 Browser） |
| **位置相关** |
| `openLocation` | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | 打开地图查看位置（所有平台都有） |
| `getLocation` | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | 获取当前位置（所有平台都有） |
| `getBrowserLocation` | ✅ | ❌ | ❌ | ❌ | ❌ | ❌ | 浏览器定位（仅 Browser） |
| **扫码相关** |
| `scanQRCode` | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | 扫描二维码（所有平台都有） |
| **图片相关** |
| `chooseImage` | ✅ | ✅ | ❌ | ✅ | ❌ | ✅ | 选择图片 |
| `uploadImage` | ✅ | ✅ | ❌ | ✅ | ❌ | ✅ | 上传图片 |
| `previewImage` | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | 预览图片（所有平台都有） |
| **文件相关** |
| `chooseFile` | ❌ | ❌ | ❌ | ❌ | ❌ | ✅ | 选择文件（仅 Lyrixi） |
| `uploadFile` | ✅ | ❌ | ❌ | ❌ | ❌ | ✅ | 上传文件 |
| `previewFile` | ✅ | ✅ | ❌ | ❌ | ❌ | ✅ | 预览文件 |
| **其他** |
| `invoke` | ❌ | ✅ | ❌ | ❌ | ❌ | ✅ | 调用平台 API |
| `getAppVersion` | ❌ | ❌ | ❌ | ❌ | ❌ | ✅ | 获取应用版本（仅 Lyrixi） |

## 统计汇总

### 所有平台都有的方法（8个）
1. `load` - 加载平台 SDK
2. `back` - 返回上一页
3. `closeWindow` - 关闭窗口
4. `onHistoryBack` - 监听物理返回
5. `openLocation` - 打开地图查看位置
6. `getLocation` - 获取当前位置
7. `scanQRCode` - 扫描二维码
8. `previewImage` - 预览图片

### 部分平台有的方法

#### 导航相关
- `setTitle`: Browser, DingTalk
- `openWindow`: Browser, Lyrixi
- `goHome`: Browser（仅）
- `tel`: Browser（仅）

#### 图片相关
- `chooseImage`: Browser, WeChat, DingTalk, Lyrixi（4个）
- `uploadImage`: Browser, WeChat, DingTalk, Lyrixi（4个）

#### 文件相关
- `chooseFile`: Lyrixi（仅）
- `uploadFile`: Browser, Lyrixi（2个）
- `previewFile`: Browser, WeChat, Lyrixi（3个）

#### 其他
- `invoke`: WeChat, Lyrixi（2个）
- `getAppVersion`: Lyrixi（仅）
- `platform`: Browser, Lyrixi（2个）
- `getBrowserLocation`: Browser（仅）

## 各平台方法数量统计

| 平台 | 方法数量 | 特有方法 |
|------|---------|---------|
| Browser | 18 | `goHome`, `tel`, `getBrowserLocation` |
| WeChat | 12 | 无（但 `invoke` 仅 WeChat 和 Lyrixi 有） |
| Alipay | 8 | 无（最少） |
| DingTalk | 11 | `setTitle`（与 Browser 共享） |
| Lark | 8 | 无（最少） |
| Lyrixi | 17 | `chooseFile`, `getAppVersion` |

## 建议

1. **核心方法（8个）**：所有平台都实现，这是 Bridge 的核心功能
2. **可选方法**：根据平台特性选择性实现
3. **扩展性**：通过 `addBridge()` 方法可以扩展自定义平台

